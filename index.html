<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì†Œì •ì—ê²Œ ë³´ë‚´ëŠ” ì‚¬ë‘ í¸ì§€ ğŸ’•</title>
    <link href="https://fonts.googleapis.com/css2?family=Cute+Font&family=Gamja+Flower:wght@400&family=Poor+Story:wght@400&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poor Story', cursive;
            background: linear-gradient(135deg, #FFE4E8 0%, #FFF0F3 50%, #FFEBF0 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Floating hearts and stars animation */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .floating-heart, .floating-star {
            position: absolute;
            animation: float 6s ease-in-out infinite;
            opacity: 0.3;
        }
        
        .floating-heart {
            color: #FF69B4;
            font-size: 1.5rem;
            animation-delay: var(--delay, 0s);
        }
        
        .floating-star {
            color: #FFD700;
            font-size: 1.2rem;
            animation-delay: var(--delay, 0s);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(5deg); }
            50% { transform: translateY(-10px) rotate(-5deg); }
            75% { transform: translateY(-25px) rotate(3deg); }
        }
        
        /* Main container */
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            z-index: 10;
        }
        
        /* Envelope styling */
        .envelope {
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer;
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }
        
        .envelope:hover {
            transform: scale(1.05) translateY(-5px);
            filter: drop-shadow(0 10px 20px rgba(255, 105, 180, 0.3));
        }
        
        .envelope-back {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #FFB6C1 0%, #FFC0CB 100%);
            border-radius: 10px;
            border: 3px solid #FF69B4;
            box-shadow: 0 8px 25px rgba(255, 105, 180, 0.4);
        }
        
        .envelope-front {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #FFB6C1 0%, #FFC0CB 100%);
            border-radius: 10px;
            border: 3px solid #FF69B4;
            transform-origin: top;
            transition: transform 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
            z-index: 2;
        }
        
        .envelope-front::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-bottom: 100px solid #FFB6C1;
            border-radius: 5px;
        }
        
        .envelope.opened .envelope-front {
            transform: rotateX(-120deg);
        }
        
        /* Heart seal */
        .heart-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            color: #FF1493;
            z-index: 3;
            cursor: pointer;
            transition: all 0.3s ease;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            user-select: none;
        }
        
        .heart-seal:hover {
            transform: translate(-50%, -50%) scale(1.1);
            color: #FF69B4;
        }
        
        .heart-seal.crack-1 {
            animation: crack1 0.3s ease;
        }
        
        .heart-seal.crack-2 {
            animation: crack2 0.3s ease;
        }
        
        .heart-seal.crack-3 {
            animation: crack3 0.5s ease forwards;
        }
        
        @keyframes crack1 {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); filter: brightness(1.5); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
        
        @keyframes crack2 {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.3); filter: brightness(2); }
            100% { transform: translate(-50%, -50%) scale(1.1); }
        }
        
        @keyframes crack3 {
            0% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
            50% { transform: translate(-50%, -50%) scale(1.5); filter: brightness(3); }
            100% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
        }
        
        /* Letter paper */
        .letter-paper {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 250px;
            height: 180px;
            background: linear-gradient(135deg, #FFFBF0 0%, #FFF8DC 100%);
            border: 2px solid #FFB6C1;
            border-radius: 10px;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 100;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            filter: blur(20px);
        }
        
        .letter-paper.expanding {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            filter: blur(10px);
        }
        
        .letter-paper.fullscreen {
            width: 100vw;
            height: 100vh;
            border-radius: 0;
            transform: translate(-50%, -50%) scale(1);
            filter: blur(0px);
            overflow-y: auto;
            padding: 40px;
            box-sizing: border-box;
        }
        
        /* Letter content */
        .letter-content {
            opacity: 0;
            transition: opacity 1s ease 0.5s;
            font-family: 'Poor Story', cursive;
            line-height: 1.8;
            color: #4A4A4A;
            font-size: 1rem;
        }
        
        .letter-paper.fullscreen .letter-content {
            opacity: 1;
        }
        
        .letter-content h1 {
            font-family: 'Cute Font', cursive;
            font-size: 2.5rem;
            color: #FF1493;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
        }
        
        .letter-content p {
            margin-bottom: 20px;
            text-align: justify;
        }
        
        .letter-content .highlight {
            color: #FF1493;
            font-weight: bold;
            text-decoration: underline;
            text-decoration-color: #FFB6C1;
            text-decoration-thickness: 2px;
        }
        
        .letter-content .signature {
            text-align: right;
            font-family: 'Cute Font', cursive;
            font-size: 1.5rem;
            color: #FF69B4;
            margin-top: 40px;
        }
        
        /* Close button */
        .close-button {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-family: 'Poor Story', cursive;
            font-size: 1.1rem;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(255, 105, 180, 0.4);
            z-index: 1000;
        }
        
        .close-button.visible {
            opacity: 1;
        }
        
        .close-button:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 12px 25px rgba(255, 105, 180, 0.6);
        }
        
        /* Thank you message */
        .thank-you {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #FFE4E8, #FFF0F3);
            padding: 40px;
            border-radius: 20px;
            border: 3px solid #FF69B4;
            text-align: center;
            font-family: 'Cute Font', cursive;
            font-size: 1.8rem;
            color: #FF1493;
            opacity: 0;
            scale: 0;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 1001;
            box-shadow: 0 15px 35px rgba(255, 105, 180, 0.3);
        }
        
        .thank-you.visible {
            opacity: 1;
            scale: 1;
        }
        
        .thank-you .heart {
            font-size: 3rem;
            color: #FF1493;
            margin: 20px 0;
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Instructions */
        .instructions {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            font-family: 'Poor Story', cursive;
            color: #FF69B4;
            font-size: 1.2rem;
            opacity: 0.8;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.4; }
        }
        
        /* Copyright */
        .copyright {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: #FF69B4;
            opacity: 0.6;
            text-align: center;
            z-index: 1002;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .envelope {
                width: 250px;
                height: 170px;
            }
            
            .letter-paper.fullscreen {
                padding: 20px;
            }
            
            .letter-content {
                font-size: 0.9rem;
            }
            
            .letter-content h1 {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .envelope {
                width: 200px;
                height: 140px;
            }
            
            .heart-seal {
                font-size: 2.5rem;
            }
            
            .letter-content {
                font-size: 0.8rem;
                line-height: 1.6;
            }
            
            .letter-content h1 {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }
        }
        
        /* Smartwatch compatibility */
        @media (max-width: 300px) {
            .container {
                padding: 10px;
            }
            
            .envelope {
                width: 150px;
                height: 100px;
            }
            
            .heart-seal {
                font-size: 2rem;
            }
            
            .letter-content {
                font-size: 0.7rem;
                line-height: 1.4;
            }
            
            .letter-content h1 {
                font-size: 1.5rem;
            }
            
            .close-button {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Floating decorative elements -->
    <div class="floating-elements" id="floatingElements"></div>
    
    <div class="container" id="mainContainer">
        <!-- Envelope -->
        <div class="envelope" id="envelope">
            <div class="envelope-back"></div>
            <div class="envelope-front"></div>
            <div class="heart-seal" id="heartSeal">ğŸ’–</div>
        </div>
        
        <!-- Instructions -->
        <div class="instructions" id="instructions">
            ğŸ’• í¸ì§€ë¥¼ ì—´ë ¤ë©´ í•˜íŠ¸ë¥¼ 3ë²ˆ í„°ì¹˜í•˜ì„¸ìš” ğŸ’•
        </div>
    </div>
    
    <!-- Letter paper -->
    <div class="letter-paper" id="letterPaper">
        <div class="letter-content" id="letterContent">
            <h1>ì†Œì •ì•„ ğŸ’•</h1>
            
            <p>ì˜¤ëŠ˜ì€ ë„ˆì—ê²Œ íŠ¹ë³„í•œ ê±¸ ì£¼ê³  ì‹¶ì—ˆì–´â€¦ ì–¸ì œë“  ë‚˜ë¥¼ ê°€ê¹Œì´ ëŠë¼ê³  ì‹¶ì„ ë•Œ êº¼ë‚´ ë³¼ ìˆ˜ ìˆëŠ”, ë§ˆìŒì†ì— ê°„ì§í•  ìˆ˜ ìˆëŠ” ë¬´ì–¸ê°€ë¥¼.</p>
            
            <p>ì´ê±´ ë‚´ ë§ˆìŒì„ ë‹´ì€ ê°ì‚¬ì˜ í‘œì‹œì•¼ â€” <span class="highlight">ë‚˜ì˜ ì—¬ìì¹œêµ¬ê°€ ë˜ì–´ì£¼ê³ , ë‚˜ë¥¼ ê¸°ë‹¤ë ¤ì£¼ê³ , ì´í•´í•´ì£¼ê³ </span>, ê·¸ë¦¬ê³  ë„¤ ë§ˆìŒì´ ì™¸ë¡œìš¸ ë•Œì¡°ì°¨ ë‚´ ê³ì— ìˆì–´ì¤€ ë„ˆì—ê²Œ.</p>
            
            <p>ë¨¼ì €â€¦ <span class="highlight">ë¯¸ì•ˆí•˜ë‹¤ê³  ë§í•˜ê³  ì‹¶ì–´.</span><br>
            ì²˜ìŒì— ë‚´ê°€ ë„ˆë¥¼ ë¨¼ì € ì°¾ì•„ê°€ì§€ ëª»í•œ ê²ƒ, ê·¸ë¦¬ê³  ê·¸ë¡œ ì¸í•´ ë„¤ê°€ ì™¸ë¡œì›€ì„ ëŠë¼ê²Œ í–ˆë˜ ì‹œê°„ë“¤â€¦ ì •ë§ ë¯¸ì•ˆí•´.</p>
            
            <p>ì •ë§ ë„ˆë¥¼ ë³´ëŸ¬ ê°€ê³  ì‹¶ì—ˆê³ , ìˆ˜ì—†ì´ ìƒê°í–ˆì§€ë§Œ, ê·¸ëŸ´ ì—¬ìœ ê°€ ì—†ì—ˆì–´. ê·¸ë¦¬ê³  ì¡°ê¸ˆì´ë¼ë„ ëª¨ì•„ë‘ë©´, ì•„ë²„ì§€ê°€ ìƒí™œë¹„ë¥¼ ë„ì™€ë‹¬ë¼ê³  í•˜ì…”ì„œâ€¦ ê²°êµ­ ë‹¤ ì—†ì–´ì¡Œì–´.</p>
            
            <p>í•˜ì§€ë§Œ <span class="highlight">ë„¤ ë•ë¶„ì— ì§€ê¸ˆì€ ë…¸íŠ¸ë¶ë„ ìˆê³ </span>, ë‚´ê°€ ì •ë§ ì—´ì •ì„ ìŸëŠ” ê·¸ ê³¼ì •(ìˆ˜ì—…)ì„ ë“¤ì„ ìˆ˜ ìˆëŠ” ëˆë„ ìˆì–´. ì´ê±´ ë‚˜ì˜ ë¯¸ë˜ë¥¼ ì—´ì–´ì¤„ í° ë¬¸ì´ ë  ê±°ì•¼.</p>
            
            <p>ì´ì œëŠ” ì¢€ ë” ììœ ë¡­ê³  í¸í•˜ê²Œ ì›€ì§ì¼ ìˆ˜ ìˆì–´â€¦ <span class="highlight">ê·¸ê±´ ì „ë¶€ ë„ˆ ë•ë¶„ì´ì•¼.</span></p>
            
            <p>ë„ˆëŠ” ë‚´ê°€ ë§ë¡œ ë‹¤ ì„¤ëª…í•  ìˆ˜ ì—†ì„ ë§Œí¼ ë‚´ ì‚¶ì„ ë” ì¢‹ê²Œ ë§Œë“¤ì–´ì¤¬ì–´.<br>
            <span class="highlight">ë„ˆëŠ” ë‚´ê²Œ í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ì¶•ë³µì´ì•¼.</span></p>
            
            <p><span class="highlight">ë‚˜ì˜ ê°€ì¥ í° ì„ ë¬¼, ê°€ì¥ ì•„ë¦„ë‹¤ìš´ ë³´ë¬¼, ë‚´ê°€ ì„¸ìƒì—ì„œ ê°€ì¥ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒ, ë‚˜ì˜ ê¿ˆ, ë‚˜ì˜ ëª©í‘œ, ë‚˜ì˜ ìµœìš°ì„ ì´ì•¼.</span></p>
            
            <p>ë‚˜ëŠ” êµ­ì œ íšŒì‚¬ì—ì„œ ì¢‹ì€ ì§ì¥ì„ ì–»ê¸° ìœ„í•´ ì—´ì‹¬íˆ ë…¸ë ¥í•  ê±°ì•¼ (ë¯¸êµ­ì´ë‚˜ ìºë‚˜ë‹¤ë¥¼ ëª©í‘œë¡œ í•˜ê³  ìˆì–´). ê·¸ë˜ì„œ ê±°ê¸°ì„œ ë„ˆë¥¼ ë§Œë‚  ìˆ˜ë„ ìˆê³ , ì„œë¡œ ë²ˆê°ˆì•„ ê°€ë©° ìì£¼ ë§Œë‚  ìˆ˜ ìˆê²Œ í•˜ë ¤ê³ .</p>
            
            <p><span class="highlight">ê¸°ì–µí•´ì¤˜ â€” ë„ˆëŠ” ì´ì œ ë” ì´ìƒ í˜¼ìê°€ ì•„ë‹ˆì•¼.</span><br>
            ìš°ë¦¬ëŠ” ì´ì œ ë³€í™”ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” í˜ì´ ìˆì–´. ì‚¬ë‘ê³¼ í—Œì‹ ì´ ê°€ë“í•œ, í‰ë²”í•˜ê³  ì•ˆì •ëœ ì—°ì• ë¥¼ í•  ìˆ˜ ìˆì–´.</p>
            
            <p><span class="highlight">ë‚´ ë§ˆìŒì€ ë‹¨ê¸°ì ì¸ ê²Œ ì•„ë‹ˆì•¼.</span><br>
            ë‚œ ë„ˆì™€ ê²°í˜¼í•˜ê³ , ì•„ì´ë„ ê°–ê³  ì‹¶ì–´ â€” ì „ì— ë§í•œ ê²ƒì²˜ëŸ¼.</p>
            
            <p>ë„ˆì™€ ë„ˆì˜ ê°€ì¡±ì—ê²Œ ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬í•˜ê³ , ê¼­ ì§ì ‘ ë§Œë‚˜ ì¸ì‚¬ë“œë¦¬ê³  ì‹¶ì–´. ê·¸ë¦¬ê³  ì–¸ì  ê°€ ë„ˆë„ ë‚´ ê°€ì¡±ì„ ë§Œë‚˜ì£¼ê¸¸ ë°”ë¼.</p>
            
            <p>ì•„ë§ˆ ë„¤ê°€ ì²˜ìŒ ë‚˜ë¥¼ ë§Œë‚˜ëŸ¬ ì˜¬ ë•Œ, ìš°ë¦¬ ê´€ê³„ë¥¼ ì•„ë²„ì§€ê»˜ëŠ” ë°”ë¡œ ë§í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆì–´. ë‚˜ëŠ” ë‚´ê°€ ì¢€ ë” ì•ˆì •ì ì¸ ìˆ˜ì…ì„ ì–»ì„ ë•Œ ë§ì”€ë“œë¦¬ê³  ì‹¶ì–´.</p>
            
            <p>í•˜ì§€ë§Œ ì–´ë–¤ ìƒí™©ì´ë“ , <span class="highlight">ë„ˆì™€ í•¨ê»˜í•œ ëª¨ë“  ìˆœê°„ì€ íŠ¹ë³„í–ˆì–´</span> â€” ëª¨ë“  ì›ƒìŒ, ëª¨ë“  ëˆˆë¬¼, ëª¨ë“  ì‹œì„ , ëª¨ë“  í‚¤ìŠ¤, ê·¸ë¦¬ê³  ëª¨ë“  ì‘ì€ í–‰ë™ë“¤ê¹Œì§€â€¦</p>
            
            <p><span class="highlight">ê·¸ ëª¨ë“  ê²Œ ë‚´ ì¸ìƒì—ì„œ ê°€ì¥ í° ëª¨í—˜ì´ì—ˆì–´.</span></p>
            
            <p>ê·¸ ëª¨ë“  ìˆœê°„ë“¤ì´ ë‚˜ì—ê²Œ ì´ìœ ë¥¼ ì£¼ê³ , ëª©í‘œë¥¼ ì£¼ê³ , ê¿ˆì„ ì£¼ê³ , ë‚˜ë¥¼ í•˜ë‚˜ë‹˜ê»˜ ë” ê°€ê¹Œì´ ì´ëŒì—ˆì–´. ë‚´ê°€ ë³µìŒê³¼ ì€í˜œì— ëŒ€í•´ ë„ˆì™€ ë‚˜ëˆ´ë˜ ê·¸ ë‚ ì„ ì ˆëŒ€ ìŠì§€ ëª»í•´.</p>
            
            <p>ì†Œì •ì•„â€¦ <span class="highlight">ìš°ë¦¬ì˜ ê´€ê³„ëŠ” ë‚˜ì—ê²Œ ì§„ì •í•œ ì‚¬ë‘ì˜ ì•„ë¦„ë‹¤ì›€ì„ ê°€ë¥´ì³ì¤¬ì–´.</span></p>
            
            <p>ê·¸ë˜ì„œ ë„ˆì—ê²Œ ìŠì§€ ëª»í•  ì„ ë¬¼ì„ ì£¼ê³  ì‹¶ì—ˆê³ , ë‚´ í”„ë¡œê·¸ë˜ë° ì‹¤ë ¥ì„ ì´ìš©í•´ì„œ ì´ ê°€ìƒì˜ í¸ì§€ë¥¼ ë§Œë“¤ì—ˆì–´. <span class="highlight">ì´ê±´ ë‹¨ìˆœí•œ ê¸€ì´ ì•„ë‹ˆë¼, ë„¤ê°€ ì˜ì›íˆ ê°„ì§í•  ìˆ˜ ìˆëŠ” ë‚´ ë§ˆìŒì˜ í•œ ì¡°ê°ì´ì•¼.</span></p>
            
            <p><span class="highlight">ë‚˜ëŠ” ë„ˆë¥¼ ì‚¬ë‘í•´. ì§„ì‹¬ìœ¼ë¡œ, ê¹Šì´.</span><br>
            ë‚´ê°€ ë„ˆì—ê²Œ ëŠë¼ëŠ” ì´ ê°ì •ì€ ê·¸ ëˆ„êµ¬ì—ê²Œë„ ëŠê»´ë³¸ ì  ì—†ëŠ” ê±°ì•¼.</p>
            
            <p>ë„ˆë¥¼ ìƒê°í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì›ƒê²Œ ë˜ëŠ”, ë„ˆë¬´ë‚˜ë„ ë”°ëœ»í•˜ê³  ì§„ì§œì¸ ë§ˆìŒì´ì•¼. <span class="highlight">ë„¤ê°€ ë‚˜ë¥¼ ë§Œë‚˜ëŸ¬ ì˜¨ë‹¤ê³  ìƒê°í•˜ë©´, ë„ˆë¬´ í–‰ë³µí•´ì„œ ë‹¹ì¥ì´ë¼ë„ ë›°ì–´ì˜¤ë¥¼ ê²ƒ ê°™ì•„.</span></p>
            
            <p><span class="highlight">ë„¤ê°€ ë‚´ ì•ì— ì„œ ìˆëŠ” ê·¸ ë‚ â€¦</span><br>
            ë‚˜ëŠ” ì ì‹œ ì–¼ì–´ë¶™ì„ ê±°ê³ , ëˆˆë¬¼ì´ íë¥¼ ê±°ì•¼. ê·¸ë¦¬ê³  ë°”ë¡œ ë„¤ í’ˆì— ë‹¬ë ¤ê°€ì„œ ê½‰ ì•ˆê³ , "ì‚¬ë‘í•´"ë¼ê³  ë§í•  ê±°ì•¼.</p>
            
            <p>ê·¸ ìˆœê°„, ìš°ë¦¬ì˜ ê±°ë¦¬ëŠ” ì™„ì „íˆ ì‚¬ë¼ì§ˆ ê±°ì•¼. ë„¤ ì•„ë¦„ë‹¤ìš´ ëˆˆì„ ë°”ë¼ë³´ê³ , ë„¤ ì–¼êµ´ì„ ì“°ë‹¤ë“¬ê³ , ê·¸ë¦¬ê³  í‚¤ìŠ¤í•  ê±°ì•¼ â€” <span class="highlight">ë„¤ê°€ ëŠê»´ë³¸ ì  ì—†ëŠ” ê°€ì¥ ìˆœìˆ˜í•˜ê³  ê¹Šì€ ì‚¬ë‘ìœ¼ë¡œ.</span></p>
            
            <p>ê·¸ë¦¬ê³  ì—¬ê¸° ë‚´ ìœ„ì¹˜ë¥¼ ë‚¨ê¸¸ê²Œ. ë„¤ê°€ ë‚˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆë„ë¡: <span class="highlight">ì½”ìŠ¤íƒ€ë¦¬ì¹´, ì¹´ë¥´íƒ€ê³ , ì¹´ë¥´íƒ€ê³ , ì¼€ë¸Œë¼ë””ì•¼.</span></p>
            
            <p>ë‘ ê°œì˜ ë ˆì¼ì´ ìˆëŠ” í° íŠ¸ë™, ë‘ ê°œì˜ í° ë‹¤ë¦¬, ê·¸ë¦¬ê³  Paseo MetrÃ³polië¼ëŠ” ì‡¼í•‘ëª°ì´ ë³´ì´ë©´ ê°€ê¹Œì›Œì§„ ê±°ì•¼. ê±°ê¸°ë¥¼ ì§€ë‚˜ë©´, ìŠ¤íƒ€ë²…ìŠ¤, ë§¥ë„ë‚ ë“œ, íƒ€ì½”ë²¨, í”¼ìí—› ê°™ì€ ìœ ëª…í•œ ì‹ë‹¹ë“¤ì´ ìˆëŠ” ê¸¸ì´ ë‚˜ì™€.</p>
            
            <p>ì•½êµ­, í¸ì˜ì , ì—¬ëŸ¬ ê°€ê²Œë“¤ë„ ë³´ì¼ ê±°ì•¼. ì£¼ìœ ì†Œì—ì„œ êº¾ì–´ ë“¤ì–´ê°€ë©´, ì‹œê³¨ í’ê²½ì´ ìˆëŠ” ê¸¸ì´ ë‚˜ì™€. ê·¸ê³³ì—ëŠ” ì‡¼í•‘ì„¼í„°, ê³ ê¸‰ ìŠˆí¼ë§ˆì¼“, ì‹¬ì§€ì–´ ê°œì¸ ë³‘ì›ë„ ìˆì–´.</p>
            
            <p>ê·¸ê±¸ ë³´ë©´, ë„ˆëŠ” ì œëŒ€ë¡œ ì˜¤ê³  ìˆëŠ” ê±°ì•¼. ê³§ ë‚´ê°€ ì „ì— ë³´ì—¬ì¤¬ë˜ ê³µì›ì´ ë‚˜ì™€. ê·¸ ë’¤ì—ëŠ”, ë‚´ê°€ ê³µì‚¬ ì¤‘ì¼ ë•Œ ë³´ì—¬ì¤¬ë˜ í° ìŠˆí¼ë§ˆì¼“ì´ ìˆì–´. <span class="highlight">ê±°ê¸°ì„œ ë‚˜ë¥¼ ë§Œë‚  ìˆ˜ ìˆì–´.</span></p>
            
            <p>ë„¤ê°€ ì—¬í–‰ ì¤€ë¹„ê°€ ë˜ë©´, ë‚´ GPS ìœ„ì¹˜ë¥¼ ë³´ë‚´ì¤„ê²Œ. ê·¸ë¦¬ê³  ë„¤ê°€ ê¸¸ì„ ì•Œì•„ë³¼ ìˆ˜ ìˆë„ë¡ ì§ì ‘ ê±¸ìœ¼ë©´ì„œ ì•ˆë‚´í•  ê±°ì•¼. ê·¸ë‹¤ìŒ, ìš°ë¦¬ í•¨ê»˜ ë„ì‹œë¡œ ë‚˜ê°€ì„œ â€” ë‚´ ì§‘ê³¼ ë¬¸í™”, ê·¸ë¦¬ê³  ì œì¼ ì¤‘ìš”í•œâ€¦ ìŒì‹ë“¤ì„ ë³´ì—¬ì¤„ê²Œ.</p>
            
            <p><span class="highlight">ì†Œì •ì•„, ë‚˜ì—ê²Œ ë„ˆëŠ” ì „ë¶€ì•¼.</span><br>
            ë‚˜ëŠ” ì˜¤ì§ ë„ˆë§Œ ì›í•˜ê³ , ì„¸ìƒì´ ëë‚  ë•Œê¹Œì§€ ë§¤ì¼ ë„¤ ê³ì— ìˆê³  ì‹¶ì–´.</p>
            
            <p>ì´ í¸ì§€ì— ë‹µì¥í•˜ì§€ ì•Šì•„ë„ ë¼ â€” ê·¸ëƒ¥ ê°„ì§í•´ì¤˜. ì–¸ì  ê°€ëŠ” ì´ í¸ì§€ê°€ ë„ˆì—ê²Œ ë” í° ì˜ë¯¸ê°€ ë  ê±°ì•¼.</p>
            
            <p>ë‚˜ëŠ” ì´ê±¸ ë„¤ê°€ ì¤€ ë…¸íŠ¸ë¶ìœ¼ë¡œ, ê³µë¶€ë¥¼ ë§ˆì¹œ í›„ì— ì¼ì–´ â€” <span class="highlight">ë„ˆëŠ” ë‚˜ì—ê²Œ ì°½ì‘ê³¼ ê¿ˆì„ ê¾¸ê²Œ í•˜ëŠ” ì˜ê°ì„ ì£¼ë‹ˆê¹Œ.</span></p>
            
            <div class="signature">
                <span class="highlight">ì‚¬ë‘í•´, ë‚˜ì˜ ì†Œì •ì•„.</span><br>
                í•­ìƒ, ê·¸ë¦¬ê³  ì˜ì›íˆ.<br><br>
                ì˜¤ì§ ë„ˆì˜,<br>
                ì•„ë¡  ğŸ©·
            </div>
        </div>
    </div>
    
    <!-- Close button -->
    <button class="close-button" id="closeButton">í¸ì§€ ë‹«ê¸° ğŸ’•</button>
    
    <!-- Thank you message -->
    <div class="thank-you" id="thankYou">
        <div class="heart">ğŸ’–</div>
        <div>í¸ì§€ë¥¼ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”</div>
        <div style="font-size: 1.2rem; margin-top: 10px;">ì†Œì •ë‹˜ê»˜ ì‚¬ë‘ì„ ì „í–ˆìŠµë‹ˆë‹¤ ğŸ’•</div>
    </div>
    
    <!-- Copyright -->
    <div class="copyright">
        Â© 2025 Aaron E. Obando & ë°•ì†Œì • - Made with ğŸ’– for ì†Œì •
    </div>
    
    <script>
        // Game state
        let clickCount = 0;
        let isLetterOpen = false;
        let isClosing = false;
        
        // Elements
        const envelope = document.getElementById('envelope');
        const heartSeal = document.getElementById('heartSeal');
        const letterPaper = document.getElementById('letterPaper');
        const closeButton = document.getElementById('closeButton');
        const thankYou = document.getElementById('thankYou');
        const instructions = document.getElementById('instructions');
        const mainContainer = document.getElementById('mainContainer');
        const floatingElements = document.getElementById('floatingElements');
        
        // Create floating decorations
        function createFloatingElements() {
            const hearts = ['ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’˜', 'ğŸ©·'];
            const stars = ['â­', 'âœ¨', 'ğŸŒŸ', 'ğŸ’«'];
            
            for (let i = 0; i < 15; i++) {
                // Hearts
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.top = Math.random() * 100 + '%';
                heart.style.setProperty('--delay', (Math.random() * 6) + 's');
                floatingElements.appendChild(heart);
                
                // Stars
                if (i < 8) {
                    const star = document.createElement('div');
                    star.className = 'floating-star';
                    star.textContent = stars[Math.floor(Math.random() * stars.length)];
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.setProperty('--delay', (Math.random() * 6 + 2) + 's');
                    floatingElements.appendChild(star);
                }
            }
        }
        
        // Heart seal click handler
        heartSeal.addEventListener('click', function(e) {
            e.stopPropagation();
            if (isLetterOpen || isClosing) return;
            
            clickCount++;
            
            // Add crack animation based on click count
            heartSeal.classList.remove('crack-1', 'crack-2', 'crack-3');
            
            if (clickCount === 1) {
                heartSeal.classList.add('crack-1');
                // Play crack sound effect (visual feedback)
                createSparkles(e.pageX, e.pageY);
            } else if (clickCount === 2) {
                heartSeal.classList.add('crack-2');
                createSparkles(e.pageX, e.pageY);
            } else if (clickCount >= 3) {
                heartSeal.classList.add('crack-3');
                setTimeout(() => {
                    openLetter();
                }, 500);
            }
        });
        
        // Create sparkle effect
        function createSparkles(x, y) {
            for (let i = 0; i < 6; i++) {
                const sparkle = document.createElement('div');
                sparkle.textContent = 'âœ¨';
                sparkle.style.position = 'fixed';
                sparkle.style.left = (x - 10 + Math.random() * 20) + 'px';
                sparkle.style.top = (y - 10 + Math.random() * 20) + 'px';
                sparkle.style.fontSize = '1rem';
                sparkle.style.color = '#FFD700';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.zIndex = '1000';
                sparkle.style.transition = 'all 1s ease-out';
                document.body.appendChild(sparkle);
                
                setTimeout(() => {
                    sparkle.style.transform = 'translateY(-50px) scale(0)';
                    sparkle.style.opacity = '0';
                }, 50);
                
                setTimeout(() => {
                    document.body.removeChild(sparkle);
                }, 1000);
            }
        }
        
        // Open letter animation
        function openLetter() {
            isLetterOpen = true;
            instructions.style.display = 'none';
            
            // Open envelope
            envelope.classList.add('opened');
            
            // Show and animate letter paper
            setTimeout(() => {
                letterPaper.style.display = 'block';
                setTimeout(() => {
                    letterPaper.classList.add('expanding');
                }, 100);
                
                // Expand to fullscreen
                setTimeout(() => {
                    letterPaper.classList.add('fullscreen');
                    mainContainer.style.display = 'none';
                }, 1200);
                
                // Show close button after content is visible
                setTimeout(() => {
                    closeButton.classList.add('visible');
                }, 2500);
            }, 800);
        }
        
        // Close letter animation
        closeButton.addEventListener('click', function() {
            if (isClosing) return;
            isClosing = true;
            
            closeButton.classList.remove('visible');
            
            // Reverse the animation
            letterPaper.classList.remove('fullscreen');
            
            setTimeout(() => {
                letterPaper.classList.remove('expanding');
                
                setTimeout(() => {
                    letterPaper.style.display = 'none';
                    mainContainer.style.display = 'flex';
                    
                    // Close envelope
                    envelope.classList.remove('opened');
                    heartSeal.style.display = 'none';
                    
                    // Show thank you message
                    setTimeout(() => {
                        thankYou.classList.add('visible');
                        
                        // Auto-hide thank you after 4 seconds
                        setTimeout(() => {
                            thankYou.classList.remove('visible');
                        }, 4000);
                    }, 500);
                }, 800);
            }, 600);
        });
        
        // Auto-scroll functionality for letter content
        let isAutoScrolling = false;
        let autoScrollTimer;
        
        function startAutoScroll() {
            if (isAutoScrolling) return;
            isAutoScrolling = true;
            
            const scrollContainer = letterPaper;
            const scrollSpeed = 30; // pixels per second
            const scrollStep = 1;
            
            autoScrollTimer = setInterval(() => {
                if (scrollContainer.scrollTop < scrollContainer.scrollHeight - scrollContainer.clientHeight) {
                    scrollContainer.scrollTop += scrollStep;
                } else {
                    // Reached bottom, show close button if not visible
                    if (!closeButton.classList.contains('visible')) {
                        closeButton.classList.add('visible');
                    }
                    clearInterval(autoScrollTimer);
                    isAutoScrolling = false;
                }
            }, 1000 / scrollSpeed);
        }
        
        // Start auto-scroll when letter becomes fullscreen
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.target === letterPaper && letterPaper.classList.contains('fullscreen')) {
                    setTimeout(() => {
                        startAutoScroll();
                    }, 1000);
                }
            });
        });
        
        observer.observe(letterPaper, { attributes: true, attributeFilter: ['class'] });
        
        // Manual scroll detection (pause auto-scroll if user scrolls manually)
        letterPaper.addEventListener('wheel', () => {
            if (isAutoScrolling) {
                clearInterval(autoScrollTimer);
                isAutoScrolling = false;
            }
        });
        
        letterPaper.addEventListener('touch', () => {
            if (isAutoScrolling) {
                clearInterval(autoScrollTimer);
                isAutoScrolling = false;
            }
        });
        
        // Envelope hover effect with sound-like vibration (visual feedback)
        envelope.addEventListener('mouseenter', function() {
            if (!isLetterOpen) {
                this.style.animation = 'none';
                setTimeout(() => {
                    this.style.animation = '';
                }, 10);
            }
        });
        
        // Add touch events for better mobile experience
        let touchStartY = 0;
        
        letterPaper.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
            if (isAutoScrolling) {
                clearInterval(autoScrollTimer);
                isAutoScrolling = false;
            }
        });
        
        letterPaper.addEventListener('touchmove', (e) => {
            const touchY = e.touches[0].clientY;
            const deltaY = touchStartY - touchY;
            
            if (deltaY > 0) {
                // Scrolling down
                letterPaper.scrollTop += deltaY * 0.5;
            } else {
                // Scrolling up
                letterPaper.scrollTop += deltaY * 0.5;
            }
        });
        
        // Prevent default scroll behavior on mobile
        letterPaper.addEventListener('touchmove', (e) => {
            e.preventDefault();
        }, { passive: false });
        
        // Add particle effects for ambiance
        function createHeartParticles() {
            setInterval(() => {
                if (!isLetterOpen) {
                    const particle = document.createElement('div');
                    particle.textContent = Math.random() > 0.5 ? 'ğŸ’•' : 'âœ¨';
                    particle.style.position = 'fixed';
                    particle.style.left = Math.random() * window.innerWidth + 'px';
                    particle.style.top = '-20px';
                    particle.style.fontSize = '0.8rem';
                    particle.style.pointerEvents = 'none';
                    particle.style.zIndex = '1';
                    particle.style.opacity = '0.6';
                    particle.style.transition = 'all 8s linear';
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.style.top = window.innerHeight + 20 + 'px';
                        particle.style.transform = 'rotate(360deg)';
                        particle.style.opacity = '0';
                    }, 100);
                    
                    setTimeout(() => {
                        if (document.body.contains(particle)) {
                            document.body.removeChild(particle);
                        }
                    }, 8000);
                }
            }, 2000);
        }
        
        // Add breathing animation to envelope
        function addBreathingAnimation() {
            setInterval(() => {
                if (!isLetterOpen && !isClosing) {
                    envelope.style.transform = 'scale(1.02)';
                    setTimeout(() => {
                        envelope.style.transform = 'scale(1)';
                    }, 1000);
                }
            }, 3000);
        }
        
        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            createFloatingElements();
            createHeartParticles();
            addBreathingAnimation();
            
            // Add some delay before showing initial instruction
            setTimeout(() => {
                instructions.style.opacity = '1';
            }, 1000);
        });
        
        // Add window resize handler for responsive design
        window.addEventListener('resize', function() {
            if (letterPaper.classList.contains('fullscreen')) {
                // Recalculate positions if needed
                letterPaper.style.width = '100vw';
                letterPaper.style.height = '100vh';
            }
        });
        
        // Preload any additional animations or effects
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shimmer {
                0% { background-position: -200px 0; }
                100% { background-position: 200px 0; }
            }
            
            .envelope:hover .heart-seal {
                background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
                background-size: 200px 100%;
                animation: shimmer 1.5s infinite;
            }
            
            .letter-paper.fullscreen .letter-content p {
                animation: fadeInUp 0.8s ease-out forwards;
                animation-delay: calc(var(--index, 0) * 0.1s);
                opacity: 0;
                transform: translateY(20px);
            }
            
            @keyframes fadeInUp {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
        
        // Add staggered animation to paragraphs
        setTimeout(() => {
            const paragraphs = document.querySelectorAll('.letter-content p');
            paragraphs.forEach((p, index) => {
                p.style.setProperty('--index', index);
            });
        }, 100);
        
        // Easter egg: Double-tap envelope for special effect
        let tapCount = 0;
        let tapTimer;
        
        envelope.addEventListener('click', function(e) {
            if (e.target === heartSeal) return;
            
            tapCount++;
            clearTimeout(tapTimer);
            
            tapTimer = setTimeout(() => {
                if (tapCount === 2 && !isLetterOpen) {
                    // Special double-tap effect
                    createHeartBurst(e.pageX, e.pageY);
                }
                tapCount = 0;
            }, 300);
        });
        
        function createHeartBurst(x, y) {
            const hearts = ['ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’˜', 'ğŸ©·', 'â¤ï¸', 'ğŸ’'];
            
            for (let i = 0; i < 12; i++) {
                const heart = document.createElement('div');
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.position = 'fixed';
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
                heart.style.fontSize = '1.5rem';
                heart.style.pointerEvents = 'none';
                heart.style.zIndex = '1000';
                heart.style.transition = 'all 2s ease-out';
                document.body.appendChild(heart);
                
                const angle = (i * 30) * Math.PI / 180;
                const distance = 100 + Math.random() * 100;
                
                setTimeout(() => {
                    heart.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(0) rotate(720deg)`;
                    heart.style.opacity = '0';
                }, 100);
                
                setTimeout(() => {
                    if (document.body.contains(heart)) {
                        document.body.removeChild(heart);
                    }
                }, 2000);
            }
        }
        
    </script>
</body>
</html>
